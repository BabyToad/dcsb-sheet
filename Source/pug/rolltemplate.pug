//- Dark City, Shining Babel - Roll Templates
//- Styled for the "reclaimed corporate form" aesthetic
//-
//- Uses computed values from sheet workers for result labels.
//- Crit detection (2+ sixes) handled in JavaScript, displayed with typography emphasis.

//- =============================================================================
//- ACTION ROLL
//- =============================================================================

rolltemplate.sheet-rolltemplate-dcsb-action
    .rt-container
        .rt-header
            .rt-header-border ┌──────────────────────────────────────────────────┐
            .rt-header-content
                span.rt-charname {{charname}}
                span.rt-action {{title}}
            .rt-header-border └──────────────────────────────────────────────────┘

        .rt-body
            .rt-result
                .rt-result-label {{computed::label}}
                .rt-result-value {{roll}}

            //- Position and Effect (if provided)
            | {{#position}}
            .rt-context
                span.rt-context-label POSITION:
                span.rt-context-value {{position}}
            | {{/position}}
            | {{#effect}}
            .rt-context
                span.rt-context-label EFFECT:
                span.rt-context-value {{effect}}
            | {{/effect}}

        //- Notes footer
        | {{#notes}}
        .rt-footer
            span.rt-notes {{notes}}
        | {{/notes}}


//- =============================================================================
//- FORTUNE ROLL
//- =============================================================================

rolltemplate.sheet-rolltemplate-dcsb-fortune
    .rt-container
        .rt-header
            .rt-header-border ┌──────────────────────────────────────────────────┐
            .rt-header-content
                span.rt-charname {{charname}}
                span.rt-action {{title}}
            .rt-header-border └──────────────────────────────────────────────────┘

        .rt-body
            .rt-result
                .rt-result-label {{computed::label}}
                .rt-result-value {{roll}}

            //- Position and Effect (if provided)
            | {{#position}}
            .rt-context
                span.rt-context-label POSITION:
                span.rt-context-value {{position}}
            | {{/position}}
            | {{#effect}}
            .rt-context
                span.rt-context-label EFFECT:
                span.rt-context-value {{effect}}
            | {{/effect}}

        | {{#notes}}
        .rt-footer
            span.rt-notes {{notes}}
        | {{/notes}}


//- =============================================================================
//- RESISTANCE ROLL
//- =============================================================================

rolltemplate.sheet-rolltemplate-dcsb-resistance
    .rt-container.rt-resist
        .rt-header
            .rt-header-border ┌──────────────────────────────────────────────────┐
            .rt-header-content
                span.rt-charname {{charname}}
                span.rt-action RESIST
            .rt-header-border └──────────────────────────────────────────────────┘

        .rt-body
            .rt-result.rt-resist-result
                .rt-result-label {{attribute}}
                .rt-result-value {{roll}}

            .rt-stress-result
                span.rt-stress-text {{computed::stressmsg}}

        | {{#notes}}
        .rt-footer
            span.rt-notes {{notes}}
        | {{/notes}}


//- =============================================================================
//- VICE ROLL
//- =============================================================================

rolltemplate.sheet-rolltemplate-dcsb-vice
    .rt-container
        .rt-header
            .rt-header-border ┌──────────────────────────────────────────────────┐
            .rt-header-content
                span.rt-charname {{charname}}
                span.rt-action INDULGE VICE
            .rt-header-border └──────────────────────────────────────────────────┘

        .rt-body
            .rt-result.rt-vice-result
                .rt-result-label {{computed::label}}
                .rt-result-value {{roll}}

            //- Overindulgence warning (6+)
            | {{#rollGreater() roll 5}}
            .rt-vice-warning
                span.rt-warning-icon !
                span.rt-warning-text Overindulgence? (6+)
            | {{/rollGreater() roll 5}}

        | {{#notes}}
        .rt-footer
            span.rt-notes {{notes}}
        | {{/notes}}
